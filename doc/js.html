<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-01-25 Wed 15:10 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>JS</title>
<meta name="author" content="shin" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<style>pre.src{background:#343131;color:white;} </style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">JS</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgf68eacc">1. JS</a>
<ul>
<li><a href="#org30564ce">1.1. 始める前に</a>
<ul>
<li><a href="#org82b700e">1.1.1. カオスのJS</a></li>
<li><a href="#orga9e0408">1.1.2. なんでこうなったか？</a></li>
<li><a href="#orgb67e489">1.1.3. 結果は？</a></li>
</ul>
</li>
<li><a href="#org65959db">1.2. JSを学ばなければならない理由</a></li>
<li><a href="#org70e3205">1.3. この発表会の目的</a></li>
<li><a href="#org3abbb83">1.4. Tips</a></li>
</ul>
</li>
<li><a href="#orgab21098">2. Variable</a>
<ul>
<li><a href="#orga759250">2.1. 既存の問題点</a>
<ul>
<li><a href="#org933814d">2.1.1. 定数</a></li>
<li><a href="#orgd809366">2.1.2. Scope</a></li>
<li><a href="#org85aaa86">2.1.3. Hoisting</a></li>
</ul>
</li>
<li><a href="#orgcb96ebf">2.2. 例</a>
<ul>
<li><a href="#orgcbf0f7a">2.2.1. let</a></li>
<li><a href="#org090846e">2.2.2. const</a></li>
</ul>
</li>
<li><a href="#org1d38d93">2.3. 説明</a>
<ul>
<li><a href="#org68bcdd7">2.3.1. TDZ(Temperal Dead Zone)</a></li>
<li><a href="#org46f3382">2.3.2. let</a></li>
<li><a href="#org06ac32f">2.3.3. const</a></li>
</ul>
</li>
<li><a href="#org9070504">2.4. Tips</a>
<ul>
<li><a href="#org7e429a4">2.4.1. Object.freeze()</a></li>
<li><a href="#org1de0bfa">2.4.2. MutableとImmutable</a></li>
<li><a href="#org10eecde">2.4.3. varがかわいそうです、varもたまには使用したいです。いいですよね？</a></li>
<li><a href="#org4839221">2.4.4. letとconstどっちを使うべき？</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org63a8f06">3. Arrow function</a>
<ul>
<li><a href="#orgae79cdc">3.1. Arrow function以前の関数宣言方法</a>
<ul>
<li><a href="#org0efe234">3.1.1. 方法 1 - 関数宣言</a></li>
<li><a href="#orgf31bb63">3.1.2. 方法 2 - 関数式</a></li>
</ul>
</li>
<li><a href="#orgb9b00f3">3.2. 既存の問題点</a>
<ul>
<li><a href="#org892ed55">3.2.1. hoisting</a></li>
<li><a href="#orgbf044b2">3.2.2. constructor</a></li>
<li><a href="#org55bb594">3.2.3. this</a></li>
</ul>
</li>
<li><a href="#org262a0c5">3.3. 例</a>
<ul>
<li><a href="#orgd5eb56f">3.3.1. 例 1 - arrow function作成</a></li>
<li><a href="#org9469075">3.3.2. 例 2 - 返還の値だけ存在する場合、波括弧({})と"return"キーボード削除可能</a></li>
<li><a href="#orgda7ec73">3.3.3. 例 3 - Parameterが1つだけ存在する場合、括弧省略可能。</a></li>
<li><a href="#orged38609">3.3.4. 例 4 - Closuresと一緒に使用</a></li>
<li><a href="#orgd4ee43b">3.3.5. 例 5 - 返還の値がobjectの場合</a></li>
<li><a href="#org0c90236">3.3.6. 例 6 - this</a></li>
<li><a href="#org2e14c26">3.3.7. 例 7 - Constructorで使用</a></li>
</ul>
</li>
<li><a href="#org8f04649">3.4. 説明</a></li>
<li><a href="#org375039d">3.5. Tips</a>
<ul>
<li><a href="#org3afdb46">3.5.1. "=&gt;"キーワードと既存の"function"キーワード、どっちを利用したらいい？</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org80a13bf">4. Template literal</a>
<ul>
<li><a href="#org0189123">4.1. 既存の文字列作成方法</a></li>
<li><a href="#orga54dbc6">4.2. 既存の問題点</a>
<ul>
<li><a href="#org0171cb6">4.2.1. 例</a></li>
<li><a href="#org40b6d78">4.2.2. 説明</a></li>
</ul>
</li>
<li><a href="#org3cfa9b0">4.3. 例</a>
<ul>
<li><a href="#org6f570ed">4.3.1. 例 1 - 改行</a></li>
<li><a href="#orgf863e28">4.3.2. 例 2 - 文字列に変数を入れる 1</a></li>
<li><a href="#org741df66">4.3.3. 例 3 - 文字列に変数を入れる 2</a></li>
<li><a href="#org0351c3f">4.3.4. 例 4 - 文字列内部に'(quote), "(double quote)に入れる</a></li>
<li><a href="#orgaf77a49">4.3.5. 例 5 - `(バックティック)の中で$表示。</a></li>
<li><a href="#orge2c29b4">4.3.6. 例 6 - `(バックティック)の中で${}表示。</a></li>
</ul>
</li>
<li><a href="#org86aa7e3">4.4. 説明</a></li>
<li><a href="#org05042d3">4.5. Tips</a>
<ul>
<li><a href="#org9622082">4.5.1. 改行の際、indentの問題</a></li>
<li><a href="#orgbe9d6d6">4.5.2. ObjectをString interpolationを利用して文字列を表現する場合の問題</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgf68eacc" class="outline-2">
<h2 id="orgf68eacc"><span class="section-number-2">1.</span> JS</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org30564ce" class="outline-3">
<h3 id="org30564ce"><span class="section-number-3">1.1.</span> 始める前に</h3>
<div class="outline-text-3" id="text-1-1">
</div>
<div id="outline-container-org82b700e" class="outline-4">
<h4 id="org82b700e"><span class="section-number-4">1.1.1.</span> カオスのJS</h4>
<div class="outline-text-4" id="text-1-1-1">
</div>
<ol class="org-ol">
<li><a id="orgcc67c73"></a>'b' + 'a' + + 'a' + 'a'<br />
<div class="outline-text-5" id="text-1-1-1-1">
<p>
intro/baaa.js
</p>
<div class="org-src-container">
<pre class="src src-js">console.log(('b' + 'a' + + 'a' + 'a').toLowerCase()); // &gt; ??
</pre>
</div>
</div>
</li>

<li><a id="orge4dcc77"></a>typeof<br />
<div class="outline-text-5" id="text-1-1-1-2">
<p>
intro/typeof.js
</p>
<div class="org-src-container">
<pre class="src src-js">console.log("typeof ''");
console.log(typeof ''); // &gt; ??
console.log();

console.log("typeof 's'");
console.log(typeof 's'); // &gt; ??
console.log();

console.log("typeof 30");
console.log(typeof 30); // &gt; ??
console.log();

console.log("typeof true");
console.log(typeof true); // &gt; ??
console.log();

console.log("typeof undefined");
console.log(typeof undefined); // &gt; ??
console.log();

console.log("typeof {a:1}");
console.log(typeof {a:1}); // &gt; ??
console.log();

console.log("typeof function(){}");
console.log(typeof function(){}); // &gt; ??
console.log();

console.log("typeof [1, 2, 4]");
console.log(typeof [1, 2, 4]); // &gt; ??
console.log();

console.log("typeof null");
console.log(typeof null); // &gt; ??
console.log();

console.log("typeof NaN");
console.log(typeof NaN); // &gt; ??
console.log();
</pre>
</div>
</div>
</li>

<li><a id="org78ecabe"></a>Math.Max() &gt; Math.Min()<br />
<div class="outline-text-5" id="text-1-1-1-3">
<p>
intro/maxMin.js
</p>
<div class="org-src-container">
<pre class="src src-js">console.log(Math.min() &gt; Math.max()); // &gt; ??
console.log(Math.min() &lt; Math.max()); // &gt; ??
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orga9e0408" class="outline-4">
<h4 id="orga9e0408"><span class="section-number-4">1.1.2.</span> なんでこうなったか？</h4>
<div class="outline-text-4" id="text-1-1-2">
<ul class="org-ul">
<li>なるべくエラーを出さないのを前提にしてデザインした言語</li>
<li>開発期間が短かった。</li>
</ul>
</div>
</div>
<div id="outline-container-orgb67e489" class="outline-4">
<h4 id="orgb67e489"><span class="section-number-4">1.1.3.</span> 結果は？</h4>
<div class="outline-text-4" id="text-1-1-3">
<ul class="org-ul">
<li>JSは単なるおもちゃ言語だと思う。</li>
<li>JSはcopy &amp; pasteでも十分だと思う。</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org65959db" class="outline-3">
<h3 id="org65959db"><span class="section-number-3">1.2.</span> JSを学ばなければならない理由</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>frontで動く唯一の言語(他の選択肢がない。）</li>
<li>script言語の中ですごく速い。</li>
<li>ES6からは言語自体の機能が強化。</li>
</ul>
</div>
</div>
<div id="outline-container-org70e3205" class="outline-3">
<h3 id="org70e3205"><span class="section-number-3">1.3.</span> この発表会の目的</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li>JSのいい所を学び生産性を上げたい。</li>
<li>情報共有を会社の文化にさせたい。</li>
<li>vim信者を育てたい。</li>
</ul>
</div>
</div>
<div id="outline-container-org3abbb83" class="outline-3">
<h3 id="org3abbb83"><span class="section-number-3">1.4.</span> Tips</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>分からない所があったら質問してください。</li>
<li>発表会が終わった後でも質問してもいいです！</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgab21098" class="outline-2">
<h2 id="orgab21098"><span class="section-number-2">2.</span> Variable</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orga759250" class="outline-3">
<h3 id="orga759250"><span class="section-number-3">2.1.</span> 既存の問題点</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-org933814d" class="outline-4">
<h4 id="org933814d"><span class="section-number-4">2.1.1.</span> 定数</h4>
<div class="outline-text-4" id="text-2-1-1">
</div>
<ol class="org-ol">
<li><a id="org45e1aff"></a>ES6の以前定数を宣言する為には？<br />
<div class="outline-text-5" id="text-2-1-1-1">
<ul class="org-ul">
<li>JSの開発者達が集まって、大文字で作成した値は絶対変更しないと約束する。</li>
</ul>
</div>
</li>
<li><a id="org095185d"></a>例<br />
<ol class="org-ol">
<li><a id="orge2cc2d5"></a>例 1 - Ideal<br />
<div class="outline-text-6" id="text-2-1-1-2-1">
<p>
variable/old/varConstantIdeal.js
</p>
<div class="org-src-container">
<pre class="src src-js">var PLEASE_DO_NOT_CHANGE = 0;
console.log(PLEASE_DO_NOT_CHANGE); // 0

// 100万行の長いコードの後

console.log(PLEASE_DO_NOT_CHANGE); // 0
</pre>
</div>
</div>
</li>

<li><a id="orgbe4d17b"></a>例 2 - Bad<br />
<div class="outline-text-6" id="text-2-1-1-2-2">
<p>
variable/old/varConstantBad.js
</p>
<div class="org-src-container">
<pre class="src src-js">var PLEASE_DO_NOT_CHANGE = 0;
console.log(PLEASE_DO_NOT_CHANGE); // 0

// 100万行の長いコードの中
// 前日、飲んだお酒が脳内で残っており、ぼんやりした状態で作成したコード
PLEASE_DO_NOT_CHANGE = 1;
// また、100万行の長いコードの後

console.log(PLEASE_DO_NOT_CHANGE); // 1
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orgd92aca5"></a>何が問題だったんだろう？<br />
<div class="outline-text-5" id="text-2-1-1-3">
<ul class="org-ul">
<li>前日、飲んだお酒</li>
<li>一つのfileに100万行もある、今のプロジェクトコード</li>
<li>他の人を信用しすぎた開発者</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgd809366" class="outline-4">
<h4 id="orgd809366"><span class="section-number-4">2.1.2.</span> Scope</h4>
<div class="outline-text-4" id="text-2-1-2">
</div>
<ol class="org-ol">
<li><a id="org5c6a433"></a>Scopeとは?<br />
<ol class="org-ol">
<li><a id="orgb58e341"></a>説明<br />
<div class="outline-text-6" id="text-2-1-2-1-1">
<ul class="org-ul">
<li>JSに限定した概念ではない。</li>
<li>Scopeは全ての識別子（変数名、関数名、クラス名等） が宣言した位置によって接近できる、有効範囲。</li>
<li>既存のJSのvarは特殊なscopeをもっている。</li>
</ul>
</div>
</li>
<li><a id="org3088517"></a>種類<br />
<ol class="org-ol">
<li><a id="org695e883"></a>block scope<br />
<div class="outline-text-7" id="text-2-1-2-1-2-1">
<ul class="org-ul">
<li>block({})によって生成される有効範囲</li>
</ul>
</div>
</li>
<li><a id="orgb48f5e6"></a>関数 scope<br />
<div class="outline-text-7" id="text-2-1-2-1-2-2">
<ul class="org-ul">
<li>関数によって生成される有効範囲</li>
</ul>
</div>
</li>
</ol>
</li>
<li><a id="orge283108"></a>関連知識<br />
<ol class="org-ol">
<li><a id="org22df549"></a>文, 式, 値<br />
<ol class="org-ol">
<li><a id="org0603536"></a>文(statement)<br />
<ol class="org-ol">
<li><a id="orgf038928"></a>特徴<br />
<div class="outline-text-9" id="text-2-1-2-1-3-1-1-1">
<ul class="org-ul">
<li>結果をreturnしない。</li>
<li>文はblockを生成する。</li>
</ul>
</div>
</li>
<li><a id="org1b1db5c"></a>例<br />
<div class="outline-text-9" id="text-2-1-2-1-3-1-1-2">
<ul class="org-ul">
<li>if文</li>
<li>for文</li>
<li>while文</li>
<li>switch-case文</li>
</ul>
</div>
</li>
</ol>
</li>
<li><a id="org114a205"></a>式(expression)<br />
<ol class="org-ol">
<li><a id="org9bcc6d0"></a>特徴<br />
<div class="outline-text-9" id="text-2-1-2-1-3-1-2-1">
<ul class="org-ul">
<li>結果をreturnする。</li>
<li>値になれる。</li>
</ul>
</div>
</li>
<li><a id="orge7e75d3"></a>例<br />
<div class="outline-text-9" id="text-2-1-2-1-3-1-2-2">
<ul class="org-ul">
<li>1 + 2</li>
<li>hello()</li>
<li>'abc' + 'def'</li>
</ul>
</div>
</li>
</ol>
</li>
<li><a id="orga6b2879"></a>値(value)<br />
<ol class="org-ol">
<li><a id="orgea38f90"></a>特徴<br />
<div class="outline-text-9" id="text-2-1-2-1-3-1-3-1">
<ul class="org-ul">
<li>式が評価された結果 (1 + 2 =&gt; 3)</li>
<li>値そのもの (10)</li>
</ul>
</div>
</li>
<li><a id="org598f4e5"></a>例<br />
<div class="outline-text-9" id="text-2-1-2-1-3-1-3-2">
<ul class="org-ul">
<li>3</li>
<li>'hello'</li>
</ul>
</div>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><a id="org4cfa169"></a>例<br />
<ol class="org-ol">
<li><a id="org893ed56"></a>例 1 - 関数 scope 1<br />
<div class="outline-text-6" id="text-2-1-2-2-1">
<p>
variable/old/varFunctionScope.js
</p>
<div class="org-src-container">
<pre class="src src-js">var x = 'global x';

function foo() {
  var x = 'inside function x';
  console.log(x);
}

console.log(x); //&gt; ??

foo(); //&gt; ??

console.log(x); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org58e8780"></a>例 2 - 関数 scope 2 - globalから接近<br />
<div class="outline-text-6" id="text-2-1-2-2-2">
<p>
variable/old/varFunctionScopeGlobalAccess.js
</p>
<div class="org-src-container">
<pre class="src src-js">var x = 'global x';

function foo() {
  x = 'inside function x';
  console.log(x);
}

console.log(x); //&gt; ??

foo(); //&gt; ??

console.log(x); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org9ae1b60"></a>例 3 - block scope 1 - if<br />
<div class="outline-text-6" id="text-2-1-2-2-3">
<p>
variable/old/varScopeIf.js
</p>
<div class="org-src-container">
<pre class="src src-js">var x = 'global x';

if (true) {
  var x = 'inside if x';
  console.log(x); //&gt; ??
}

console.log(x); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org3cdd20a"></a>例 4 - block scope 2 - for<br />
<div class="outline-text-6" id="text-2-1-2-2-4">
<p>
variable/old/varScopeFor.js
</p>
<div class="org-src-container">
<pre class="src src-js">for (var i = 0; i &lt; 10; i++) {
  console.log(i); //&gt; ??
}

console.log();
console.log(i); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org7b0a76c"></a>例 5 - block scope 3 - for<br />
<div class="outline-text-6" id="text-2-1-2-2-5">
<p>
variable/old/varScopeForGlobal.js
</p>
<div class="org-src-container">
<pre class="src src-js">var i = 30;
console.log(i); //&gt; ??

for (var i = 0; i &lt; 10; i++) {
  console.log(i); //&gt; ??
}

console.log(i); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org4a7dfde"></a>例 6 - block scope 4 - for setTimeout<br />
<div class="outline-text-6" id="text-2-1-2-2-6">
<p>
variable/old/varScopeForSettimeout.js
</p>
<div class="org-src-container">
<pre class="src src-js">for (var i = 0; i &lt; 10; i++) {
  setTimeout(() =&gt; {
    console.log(i); //&gt; ??
  }, (i + 1) * 1000);
}
</pre>
</div>
</div>
</li>

<li><a id="org7aaaa86"></a>例 7 - block scope 5 - 例 6 修正<br />
<div class="outline-text-6" id="text-2-1-2-2-7">
<p>
variable/old/varScopeForSettimeoutFix.js
</p>
<div class="org-src-container">
<pre class="src src-js">for (var i = 0; i &lt; 10; i++) {
  (function (i) {
    setTimeout(() =&gt; {
      console.log(i); //&gt; ??
    }, (i + 1) * 1000);
  })(i);
}
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</div>

<div id="outline-container-org85aaa86" class="outline-4">
<h4 id="org85aaa86"><span class="section-number-4">2.1.3.</span> Hoisting</h4>
<div class="outline-text-4" id="text-2-1-3">
</div>
<ol class="org-ol">
<li><a id="org78dbd5d"></a>hoistingは?<br />
<ol class="org-ol">
<li><a id="orgf070581"></a>説明<br />
<div class="outline-text-6" id="text-2-1-3-1-1">
<ul class="org-ul">
<li>hoist =&gt; 持ち上げる, つり上げる</li>
<li>変数と関数を実行する前にメモリに割り当てるという意味。</li>
<li>変数の宣言と初期化を分離し、宣言だけをコードの先頭に移動されるもの。</li>
<li>説明だけでは難しい概念なので、例を見ながら理解するのがいい。</li>
<li><a href="https://developer.mozilla.org/ja/docs/Glossary/Hoisting">https://developer.mozilla.org/ja/docs/Glossary/Hoisting</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Hoisting">https://developer.mozilla.org/en-US/docs/Glossary/Hoisting</a></li>
</ul>
</div>
</li>
</ol>
</li>
<li><a id="orge79b7df"></a>例<br />
<ol class="org-ol">
<li><a id="org6e828cb"></a>例 1<br />
<div class="outline-text-6" id="text-2-1-3-2-1">
<p>
variable/old/hoistingVariable.js
</p>
<div class="org-src-container">
<pre class="src src-js">console.log(name); //&gt; ??

var name = 'Shin';

console.log(name); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org063dc28"></a>例 2<br />
<div class="outline-text-6" id="text-2-1-3-2-2">
<p>
variable/old/hoistingFunction.js
</p>
<div class="org-src-container">
<pre class="src src-js">console.log(square(4)); //&gt; ??

function square(x) {
    return x * x;
}
</pre>
</div>
</div>
</li>

<li><a id="orgdf638ea"></a>例 3<br />
<div class="outline-text-6" id="text-2-1-3-2-3">
<p>
variable/old/hoistingVariableAndFunction.js
</p>
<div class="org-src-container">
<pre class="src src-js">console.log(square); //&gt; ??

console.log(square(4)); //&gt; ??

var square = 0;
function square(x) {
  return x * x;
}

console.log(square); //&gt; ??

console.log(square(4)); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="orge50b2e1"></a>例 4 - 例 3 修正<br />
<div class="outline-text-6" id="text-2-1-3-2-4">
<p>
variable/old/hoistingVariableAndFunctionFix.js
</p>
<div class="org-src-container">
<pre class="src src-js">console.log(square); //&gt; ??

console.log(square(4)); //&gt; ??

var square = 0;
var square = function(x) {
    return x * x;
}

console.log(square); //&gt; ??

console.log(square(4)); //&gt; ??
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</div>
</div>

<div id="outline-container-orgcb96ebf" class="outline-3">
<h3 id="orgcb96ebf"><span class="section-number-3">2.2.</span> 例</h3>
<div class="outline-text-3" id="text-2-2">
</div>
<div id="outline-container-orgcbf0f7a" class="outline-4">
<h4 id="orgcbf0f7a"><span class="section-number-4">2.2.1.</span> let</h4>
<div class="outline-text-4" id="text-2-2-1">
</div>
<ol class="org-ol">
<li><a id="orgad4ed49"></a>例 1 - 変数宣言<br />
<div class="outline-text-5" id="text-2-2-1-1">
<p>
variable/new/let.js
</p>
<div class="org-src-container">
<pre class="src src-js">let a = 1;
console.log(a); //&gt; ??

a = 2;
console.log(a); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="orgc0e4ce9"></a>例 2 - "let"キーワードを再宣言する場合<br />
<div class="outline-text-5" id="text-2-2-1-2">
<p>
variable/new/letAgain.js
</p>
<div class="org-src-container">
<pre class="src src-js">let a = 1;
console.log(a); //&gt; ??

let a = 2;
console.log(a); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org927c32a"></a>例 3 - 関数 scope 1<br />
<div class="outline-text-5" id="text-2-2-1-3">
<p>
variable/new/functionScope.js
</p>
<div class="org-src-container">
<pre class="src src-js">let x = 'global x';

function foo() {
  let x = 'inside function x';
  console.log(x);
}

console.log(x); //&gt; ??

foo(); //&gt; ??

console.log(x); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org44d2dac"></a>例 4 - 関数 scope 2 - globalに接近<br />
<div class="outline-text-5" id="text-2-2-1-4">
<p>
variable/new/functionScopeGlobal.js
</p>
<div class="org-src-container">
<pre class="src src-js">let x = 'global x';

function foo() {
  x = 'inside function x';
  console.log(x);
}

console.log(x); //&gt; ??

foo(); //&gt; ??

console.log(x); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org7b89a64"></a>例 5 - block scope 1 - if<br />
<div class="outline-text-5" id="text-2-2-1-5">
<p>
variable/new/ifGlobal.js
</p>
<div class="org-src-container">
<pre class="src src-js">let x = 'global x';

if (true) {
  let x = 'inside if x';
  console.log(x); //&gt; ??
}

console.log(x); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="orgaabe353"></a>例 6 - block scope 2 - if<br />
<div class="outline-text-5" id="text-2-2-1-6">
<p>
variable/new/ifInside.js
</p>
<div class="org-src-container">
<pre class="src src-js">if (true) {
  let x = 'inside if x';
  console.log(x); //&gt; ??
}

console.log(x); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org235bb28"></a>例 7 - block scope 2 - for<br />
<div class="outline-text-5" id="text-2-2-1-7">
<p>
variable/new/for.js
</p>
<div class="org-src-container">
<pre class="src src-js">for (let i = 0; i &lt; 10; i++) {
  console.log(i); //&gt; ??
}

console.log();
console.log(i); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org20e30c9"></a>例 8 - block scope 4 - setTimeout<br />
<div class="outline-text-5" id="text-2-2-1-8">
<p>
variable/new/setTimeout.js
</p>
<div class="org-src-container">
<pre class="src src-js">for (let i = 0; i &lt; 10; i++) {
  setTimeout(() =&gt; {
    console.log(i); //&gt; ??
  }, (i + 1) * 1000);
}
</pre>
</div>
</div>
</li>

<li><a id="org15f9097"></a>例 9 - 宣言前に変数を使用<br />
<div class="outline-text-5" id="text-2-2-1-9">
<p>
variable/new/beforeCreate.js
</p>
<div class="org-src-container">
<pre class="src src-js">console.log(name); //&gt; ??

let name = 'Shin';
</pre>
</div>
</div>
</li>

<li><a id="org5254cd9"></a>例 10 - 最初の宣言の際、値を入れない場合<br />
<div class="outline-text-5" id="text-2-2-1-10">
<p>
variable/new/createWithoutAssign.js
</p>
<div class="org-src-container">
<pre class="src src-js">let a;
console.log(a); //&gt; ??

a = 10;
console.log(a); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org18d97fc"></a>例 11 - letを後で使用する場合<br />
<div class="outline-text-5" id="text-2-2-1-11">
<p>
variable/new/afterLet.js
</p>
<div class="org-src-container">
<pre class="src src-js">a = 10;
let a;

console.log(a); //&gt; ??
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org090846e" class="outline-4">
<h4 id="org090846e"><span class="section-number-4">2.2.2.</span> const</h4>
<div class="outline-text-4" id="text-2-2-2">
</div>
<ol class="org-ol">
<li><a id="org0053a47"></a>例 1 - 再宣言<br />
<div class="outline-text-5" id="text-2-2-2-1">
<p>
variable/new/constAgain.js
</p>
<div class="org-src-container">
<pre class="src src-js">const a = 1;
console.log(a); //&gt; ??

a = 2;
console.log(a); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="orgc9f1a11"></a>例 2 - 最初の宣言の際、値を入れない場合<br />
<div class="outline-text-5" id="text-2-2-2-2">
<p>
variable/new/constWithoutAssign.js
</p>
<div class="org-src-container">
<pre class="src src-js">const a;
console.log(a); //&gt; ??

a = 1;
console.log(a); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="orgdfb5745"></a>例 3 - reference typeの場合 - 既に存在するpropertyの値変更<br />
<div class="outline-text-5" id="text-2-2-2-3">
<p>
variable/new/constWithReferenceChangeProperty.js
</p>
<div class="org-src-container">
<pre class="src src-js">const abc = {
  a: 1,
  b: 2,
};

abc.a = 5;

console.dir(abc); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org85caa62"></a>例 4 - reference typeの場合 - 新しいproperty追加<br />
<div class="outline-text-5" id="text-2-2-2-4">
<p>
variable/new/constWithReferenceAddProperty.js
</p>
<div class="org-src-container">
<pre class="src src-js">const abc = {
  a: 1,
  b: 2,
};

abc.c = 10;

console.log(abc); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org1e4e0ab"></a>例 5 - reference typeの場合 - 新しいobjectをassign<br />
<div class="outline-text-5" id="text-2-2-2-5">
<p>
variable/new/constWithReferenceAssignNewReference.js
</p>
<div class="org-src-container">
<pre class="src src-js">const abc = {
  a: 1,
  b: 2,
};

abc = {
  a: 5,
  b: 10,
}

console.log(abc); //&gt; ??
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org1d38d93" class="outline-3">
<h3 id="org1d38d93"><span class="section-number-3">2.3.</span> 説明</h3>
<div class="outline-text-3" id="text-2-3">
</div>
<div id="outline-container-org68bcdd7" class="outline-4">
<h4 id="org68bcdd7"><span class="section-number-4">2.3.1.</span> TDZ(Temperal Dead Zone)</h4>
<div class="outline-text-4" id="text-2-3-1">
<ul class="org-ul">
<li>JSのreperenceで「特定の場所ではrefences errorが発生しないといけない」を表現する為の名称</li>
</ul>
</div>
</div>
<div id="outline-container-org46f3382" class="outline-4">
<h4 id="org46f3382"><span class="section-number-4">2.3.2.</span> let</h4>
<div class="outline-text-4" id="text-2-3-2">
<ul class="org-ul">
<li>定数ではない。</li>
<li>既存の関数scopeが適用される。</li>
<li>その上、block scopeも適用される。</li>
<li>TDZ(Temperal Dead Zone)が適用される。</li>
</ul>
</div>
</div>
<div id="outline-container-org06ac32f" class="outline-4">
<h4 id="org06ac32f"><span class="section-number-4">2.3.3.</span> const</h4>
<div class="outline-text-4" id="text-2-3-3">
<ul class="org-ul">
<li>定数。</li>
<li>既存の関数scopeが適用される。(letと同じ)</li>
<li>その上、block scopeも適用される。(letと同じ)</li>
<li>TDZ(Temperal Dead Zone)が適用される。(letと同じ)</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org9070504" class="outline-3">
<h3 id="org9070504"><span class="section-number-3">2.4.</span> Tips</h3>
<div class="outline-text-3" id="text-2-4">
</div>
<div id="outline-container-org7e429a4" class="outline-4">
<h4 id="org7e429a4"><span class="section-number-4">2.4.1.</span> Object.freeze()</h4>
<div class="outline-text-4" id="text-2-4-1">
</div>
<ol class="org-ol">
<li><a id="orgd416d6a"></a>説明<br />
<div class="outline-text-5" id="text-2-4-1-1">
<ul class="org-ul">
<li>reference typeの変更を防ぎたい場合、Object.freeze()を使用。</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze</a></li>
</ul>
</div>
</li>
<li><a id="org86fa095"></a>例<br />
<ol class="org-ol">
<li><a id="orgb2dda78"></a>例 1 - 使用方法<br />
<div class="outline-text-6" id="text-2-4-1-2-1">
<p>
variable/tips/freezeBasicUsage.js
</p>
<div class="org-src-container">
<pre class="src src-js">const obj = {
  prop: 10
};

Object.freeze(obj);

obj.prop = 999;

console.log(obj); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org57609c2"></a>例 2 - strict mode<br />
<div class="outline-text-6" id="text-2-4-1-2-2">
<p>
variable/tips/freezeStrictMode.js
</p>
<div class="org-src-container">
<pre class="src src-js">'use strict';

const obj = {
  prop: 10
};

Object.freeze(obj);

obj.prop = 999;

console.log(obj); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="orge5435ed"></a>例 3 - objectの中にobjectがある場合<br />
<div class="outline-text-6" id="text-2-4-1-2-3">
<p>
variable/tips/freezeObjectInsideObject.js
</p>
<div class="org-src-container">
<pre class="src src-js">'use strict';

const obj = {
  objProp: {
    prop: 10
  }
};

Object.freeze(obj);

obj.objProp.prop = 999;

console.log(obj); //&gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org851c495"></a>例 4 - objectの中にobjectがある場合、対処法<br />
<div class="outline-text-6" id="text-2-4-1-2-4">
<p>
variable/tips/freezeObjectInsideObjectRescue.js
</p>
<div class="org-src-container">
<pre class="src src-js">'use strict';

const obj = {
  objProp: {
    prop: 10
  }
};

Object.freeze(obj);
Object.freeze(obj.objProp);

obj.objProp.prop = 999;

console.log(obj); //&gt; ??
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</div>

<div id="outline-container-org1de0bfa" class="outline-4">
<h4 id="org1de0bfa"><span class="section-number-4">2.4.2.</span> MutableとImmutable</h4>
<div class="outline-text-4" id="text-2-4-2">
</div>
<ol class="org-ol">
<li><a id="org2f72461"></a>JSのImmutable data<br />
<ol class="org-ol">
<li><a id="orgf5602e6"></a>種類<br />
<div class="outline-text-6" id="text-2-4-2-1-1">
<ul class="org-ul">
<li>number</li>
<li>string</li>
<li>boolean</li>
<li>undefined</li>
<li>null</li>
</ul>
</div>
</li>
<li><a id="org6f33dbb"></a>説明<br />
<ol class="org-ol">
<li><a id="org01b0c97"></a>例<br />
<div class="outline-text-7" id="text-2-4-2-1-2-1">
<div class="org-src-container">
<pre class="src src-js">const name = 'shin';
const one = 1;
const t = true;
</pre>
</div>


<div id="orgf59f8f3" class="figure">
<p><img src="Variable/2023-01-25_14-36-26_js_explain_immutable_assign.png" alt="2023-01-25_14-36-26_js_explain_immutable_assign.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-js">const one1 = 1;
const one2 = 1;
let three = one1 + 2;
</pre>
</div>


<div id="org62d7e40" class="figure">
<p><img src="Variable/2023-01-25_14-35-58_js_explain_number_assign.png" alt="2023-01-25_14-35-58_js_explain_number_assign.png" />
</p>
</div>
</div>
</li>

<li><a id="orgfd49dd1"></a>説明<br />
<div class="outline-text-7" id="text-2-4-2-1-2-2">
<ul class="org-ul">
<li>値の内容（データ）が変更しない。</li>
</ul>
</div>
</li>
</ol>
</li>
</ol>
</li>
<li><a id="orgaf49c6e"></a>JSのMutable data<br />
<ol class="org-ol">
<li><a id="org0aa29af"></a>種類<br />
<div class="outline-text-6" id="text-2-4-2-2-1">
<ul class="org-ul">
<li>array</li>
<li>object</li>
</ul>
</div>
</li>
<li><a id="org16d8900"></a>説明<br />
<ol class="org-ol">
<li><a id="orga5809f3"></a>例<br />
<div class="outline-text-7" id="text-2-4-2-2-2-1">
<div class="org-src-container">
<pre class="src src-js">const shin = {
  name: 's',
  age: 100,
  job: 'restaurant staff',
  likeJS: true
};
</pre>
</div>


<div id="org5bde305" class="figure">
<p><img src="Variable/2023-01-25_14-55-23_js_explain_object_assign.png" alt="2023-01-25_14-55-23_js_explain_object_assign.png" />
</p>
</div>


<div class="org-src-container">
<pre class="src src-js">const shin = {
  name: 's',
  age: 100,
  job: 'restaurant staff',
  likeJS: true
};

shin.job = 'vimmer'
</pre>
</div>


<div id="orgd3f85c8" class="figure">
<p><img src="Variable/2023-01-25_14-55-39_js_explain_object_change_property.png" alt="2023-01-25_14-55-39_js_explain_object_change_property.png" />
</p>
</div>
</div>
</li>

<li><a id="org434be13"></a>説明<br />
<div class="outline-text-7" id="text-2-4-2-2-2-2">
<ul class="org-ul">
<li>値の内容（データ）が変更する。</li>
</ul>
</div>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</div>
<div id="outline-container-org10eecde" class="outline-4">
<h4 id="org10eecde"><span class="section-number-4">2.4.3.</span> varがかわいそうです、varもたまには使用したいです。いいですよね？</h4>
<div class="outline-text-4" id="text-2-4-3">
</div>
<ol class="org-ol">
<li><a id="orgda9acda"></a>説明<br />
<div class="outline-text-5" id="text-2-4-3-1">
<ul class="org-ul">
<li>現在(2023年)基準では使用しないでください。</li>
</ul>
</div>
</li>
<li><a id="org7482c42"></a>理由<br />
<div class="outline-text-5" id="text-2-4-3-2">
<ul class="org-ul">
<li>varの場合定数変数かどうかの区別が難しい。</li>
<li>varの場合基本的に定数ではないのでコードの可読性が下がる。</li>
<li>varは他のプログラミング言語と違う動きをもっている。</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="outline-container-org4839221" class="outline-4">
<h4 id="org4839221"><span class="section-number-4">2.4.4.</span> letとconstどっちを使うべき？</h4>
<div class="outline-text-4" id="text-2-4-4">
</div>
<ol class="org-ol">
<li><a id="org7c91978"></a>説明<br />
<div class="outline-text-5" id="text-2-4-4-1">
<ul class="org-ul">
<li>できる限りconstを使用すること。</li>
</ul>
</div>
</li>
<li><a id="orgb9d9a4f"></a>理由<br />
<div class="outline-text-5" id="text-2-4-4-2">
<ul class="org-ul">
<li>constを使用すると変数の値が変更されないと確信して、コードを読める。</li>
<li>意図しなかった変更を予防できる。</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org63a8f06" class="outline-2">
<h2 id="org63a8f06"><span class="section-number-2">3.</span> Arrow function</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgae79cdc" class="outline-3">
<h3 id="orgae79cdc"><span class="section-number-3">3.1.</span> Arrow function以前の関数宣言方法</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-org0efe234" class="outline-4">
<h4 id="org0efe234"><span class="section-number-4">3.1.1.</span> 方法 1 - 関数宣言</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
arrow/old/functionDeclare.js
</p>
<div class="org-src-container">
<pre class="src src-js">function sayMyName() {
  console.log('shin');
}

sayMyName(); // &gt; ??
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf31bb63" class="outline-4">
<h4 id="orgf31bb63"><span class="section-number-4">3.1.2.</span> 方法 2 - 関数式</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
arrow/old/functionExpression.js
</p>
<div class="org-src-container">
<pre class="src src-js">const sayMyName = function () {
  console.log('shin');
}

sayMyName(); // &gt; ??
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb9b00f3" class="outline-3">
<h3 id="orgb9b00f3"><span class="section-number-3">3.2.</span> 既存の問題点</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-org892ed55" class="outline-4">
<h4 id="org892ed55"><span class="section-number-4">3.2.1.</span> hoisting</h4>
<div class="outline-text-4" id="text-3-2-1">
</div>
<ol class="org-ol">
<li><a id="org9cb850d"></a>例<br />
<ol class="org-ol">
<li><a id="org3d832cf"></a>例 1 - 関数宣言使用<br />
<div class="outline-text-6" id="text-3-2-1-1-1">
<p>
arrow/old/functionDeclareHoisting.js
</p>
<div class="org-src-container">
<pre class="src src-js">sayMyName(); // &gt; ??

function sayMyName() {
  console.log('shin');
}

sayMyName(); // &gt; ??
</pre>
</div>
</div>
</li>

<li><a id="org5349c7c"></a>例 2 - 関数式使用<br />
<div class="outline-text-6" id="text-3-2-1-1-2">
<p>
arrow/old/functionExpressionHoisting.js
</p>
<div class="org-src-container">
<pre class="src src-js">sayMyName(); // &gt; ??

const sayMyName = function () {
  console.log('shin');
}

sayMyName(); // &gt; ??
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orgdc8e4b0"></a>説明<br />
<div class="outline-text-5" id="text-3-2-1-2">
<ul class="org-ul">
<li>関数宣言で使用する時と関数式で使用する時のhoistingが違う</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgbf044b2" class="outline-4">
<h4 id="orgbf044b2"><span class="section-number-4">3.2.2.</span> constructor</h4>
<div class="outline-text-4" id="text-3-2-2">
</div>
<ol class="org-ol">
<li><a id="org3fa2b37"></a>例<br />
<ol class="org-ol">
<li><a id="org255f542"></a>例 1 - constructor使用法<br />
<div class="outline-text-6" id="text-3-2-2-1-1">
<p>
arrow/old/constructorFunction.js
</p>
<div class="org-src-container">
<pre class="src src-js">var People = function (name) {
  this.name = name;

  this.sayMyName = function() {
    console.log(this.name);
  }
};

var person = new People('shin');
person.sayMyName();
</pre>
</div>
</div>
</li>

<li><a id="orgc77b5ff"></a>例 2 - 関数はconstructorになれる。<br />
<div class="outline-text-6" id="text-3-2-2-1-2">
<p>
arrow/old/allFunctionIsConstructorFunction.js
</p>
<div class="org-src-container">
<pre class="src src-js">var add = function (a, b) {
  return a + b;
};

var isntItBug = new add();

console.dir(isntItBug);
console.dir(add);
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orgcc373bd"></a>説明<br />
<div class="outline-text-5" id="text-3-2-2-2">
<ul class="org-ul">
<li>関数を生成すると自動的にその関数にconstructorが繋がる。</li>
<li>constructorで使用したくない関数でもconstructor機能をもってる為、
無駄なresourceを使用してしまう。</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="outline-container-org55bb594" class="outline-4">
<h4 id="org55bb594"><span class="section-number-4">3.2.3.</span> this</h4>
<div class="outline-text-4" id="text-3-2-3">
</div>
<ol class="org-ol">
<li><a id="orgea025c7"></a>例<br />
<ol class="org-ol">
<li><a id="org20bd01b"></a>例 1 - this binding<br />
<div class="outline-text-6" id="text-3-2-3-1-1">
<p>
arrow/old/this.js
</p>
<div class="org-src-container">
<pre class="src src-js">function Person() {
  this.age = 0;

  setInterval(function growUp() {
    this.age++;
    console.log(this.age);
  }, 1000);
}

var p = new Person();
</pre>
</div>
</div>
</li>

<li><a id="org9bb2634"></a>例 2 - thisを変数に入れて使用<br />
<div class="outline-text-6" id="text-3-2-3-1-2">
<p>
arrow/old/thisFix.js
</p>
<div class="org-src-container">
<pre class="src src-js">function Person() {
  var that = this;
  that.age = 0;

  setInterval(function growUp() {
    that.age++;
    console.log(that.age);
  }, 1000);
}

var p = new Person();
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orgcfa3038"></a>説明<br />
<div class="outline-text-5" id="text-3-2-3-2">
<ul class="org-ul">
<li>methodの場合thisがglobalになっている。</li>
<li>不用なthis bindingにより、無駄なresource使用してしまう。</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org262a0c5" class="outline-3">
<h3 id="org262a0c5"><span class="section-number-3">3.3.</span> 例</h3>
<div class="outline-text-3" id="text-3-3">
</div>
<div id="outline-container-orgd5eb56f" class="outline-4">
<h4 id="orgd5eb56f"><span class="section-number-4">3.3.1.</span> 例 1 - arrow function作成</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
arrow/new/arrow.js
</p>
<div class="org-src-container">
<pre class="src src-js">// var sayMyName = function () {
//   console.log('shin');
// }

const sayMyName = () =&gt; {
  console.log('shin');
}

sayMyName(); //&gt; ??
</pre>
</div>
</div>
</div>

<div id="outline-container-org9469075" class="outline-4">
<h4 id="org9469075"><span class="section-number-4">3.3.2.</span> 例 2 - 返還の値だけ存在する場合、波括弧({})と"return"キーボード削除可能</h4>
<div class="outline-text-4" id="text-3-3-2">
<p>
arrow/new/arrowRemoveParen.js
</p>
<div class="org-src-container">
<pre class="src src-js">// var getName = function () {
//   return 'shin';
// }
const getName = () =&gt; 'shin';

console.log(getName()); //&gt; ??
console.log();

// var add = function(a, b) {
//   return a + b;
// }
const add = (a, b) =&gt; a + b;

console.log(add(1, 2));
</pre>
</div>
</div>
</div>

<div id="outline-container-orgda7ec73" class="outline-4">
<h4 id="orgda7ec73"><span class="section-number-4">3.3.3.</span> 例 3 - Parameterが1つだけ存在する場合、括弧省略可能。</h4>
<div class="outline-text-4" id="text-3-3-3">
<p>
arrow/new/arrowOnlyOneParameter.js
</p>
<div class="org-src-container">
<pre class="src src-js">// const square = function(n) {
//   return n * n
// }

// const square = (n) =&gt; {
//   return n * n
// }

// const square = (n) =&gt; n * n;

const square = n =&gt; n * n;

console.log(square(10)); //&gt; ??
</pre>
</div>
</div>
</div>

<div id="outline-container-orged38609" class="outline-4">
<h4 id="orged38609"><span class="section-number-4">3.3.4.</span> 例 4 - Closuresと一緒に使用</h4>
<div class="outline-text-4" id="text-3-3-4">
<p>
arrow/new/arrowWithClosures.js
</p>
<div class="org-src-container">
<pre class="src src-js">// const add = function(num1) {
//   return function(num2) {
//     return num1 + num2;
//   }
// }

const add = (num1) =&gt; (num2) =&gt; num1 + num2;

const add2 = add(2);

console.log(add2(10)); //&gt; ??
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd4ee43b" class="outline-4">
<h4 id="orgd4ee43b"><span class="section-number-4">3.3.5.</span> 例 5 - 返還の値がobjectの場合</h4>
<div class="outline-text-4" id="text-3-3-5">
<p>
arrow/new/arrowReturnObject.js
</p>
<div class="org-src-container">
<pre class="src src-js">// const f = function() {
//   return {
//     x: 10,
//     y: 20
//   }
// }

// const f = () =&gt; {
//   return {
//     x: 10,
//     y: 20
//   }
// }

// // Do not!
// const f = () =&gt; {
//   x: 10,
//   y: 20
// }

const f = () =&gt; ({
  x: 10,
  y: 20
});

console.log(f());
</pre>
</div>
</div>
</div>

<div id="outline-container-org0c90236" class="outline-4">
<h4 id="org0c90236"><span class="section-number-4">3.3.6.</span> 例 6 - this</h4>
<div class="outline-text-4" id="text-3-3-6">
<p>
arrow/new/arrowThis.js
</p>
<div class="org-src-container">
<pre class="src src-js">// function Person() {
//   const that = this;
//   that.age = 0;

//   setInterval(() =&gt; {
//     that.age++;
//     console.log(that.age);
//   }, 1000);
// }

function Person() {
  this.age = 0;

  setInterval(() =&gt; {
    this.age++;
    console.log(this.age);
  }, 1000);
}


const p = new Person();
</pre>
</div>
</div>
</div>

<div id="outline-container-org2e14c26" class="outline-4">
<h4 id="org2e14c26"><span class="section-number-4">3.3.7.</span> 例 7 - Constructorで使用</h4>
<div class="outline-text-4" id="text-3-3-7">
<p>
arrow/new/arrowConstructor.js
</p>
<div class="org-src-container">
<pre class="src src-js">const add = (a, b) =&gt; a + b;

const isntItBug = new add();

console.dir(isntItBug);
console.dir(add);
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8f04649" class="outline-3">
<h3 id="org8f04649"><span class="section-number-3">3.4.</span> 説明</h3>
<div class="outline-text-3" id="text-3-4">
<ul class="org-ul">
<li>既存functionの宣言を短縮。</li>
<li>thisをbindingしない。</li>
<li>constructorで使用できない。</li>
</ul>
</div>
</div>
<div id="outline-container-org375039d" class="outline-3">
<h3 id="org375039d"><span class="section-number-3">3.5.</span> Tips</h3>
<div class="outline-text-3" id="text-3-5">
</div>
<div id="outline-container-org3afdb46" class="outline-4">
<h4 id="org3afdb46"><span class="section-number-4">3.5.1.</span> "=&gt;"キーワードと既存の"function"キーワード、どっちを利用したらいい？</h4>
<div class="outline-text-4" id="text-3-5-1">
</div>
<ol class="org-ol">
<li><a id="orgf222d7f"></a>説明<br />
<div class="outline-text-5" id="text-3-5-1-1">
<ul class="org-ul">
<li>ES6を使用できる環境だったら"function"キーワードを使用しないこと!</li>
<li>"function"キーワードを利用しない方法
<ul class="org-ul">
<li>普通の関数 =&gt; arrow function</li>
<li>objectのmethod =&gt; concised method</li>
<li>constructor関数 =&gt; class</li>
</ul></li>
</ul>
</div>
</li>
<li><a id="org88a377a"></a>理由<br />
<div class="outline-text-5" id="text-3-5-1-2">
<ul class="org-ul">
<li>"function"キーワードを利用した場合、ブラウザーごとに異なることがあるのでbugになる可能性が存在。</li>
<li>"function"キーワードで動作する関数は、理解しにくい所がある。</li>
<li>arrow functionは不用なproperty(argument, constructor等)がない為、性能的にもいい。</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org80a13bf" class="outline-2">
<h2 id="org80a13bf"><span class="section-number-2">4.</span> Template literal</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org0189123" class="outline-3">
<h3 id="org0189123"><span class="section-number-3">4.1.</span> 既存の文字列作成方法</h3>
<div class="outline-text-3" id="text-4-1">
<p>
templateLiteral/old/declareString.js
</p>
<div class="org-src-container">
<pre class="src src-js">const str1 = 'string1';
const str2 = "string2";
</pre>
</div>
</div>
</div>

<div id="outline-container-orga54dbc6" class="outline-3">
<h3 id="orga54dbc6"><span class="section-number-3">4.2.</span> 既存の問題点</h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-org0171cb6" class="outline-4">
<h4 id="org0171cb6"><span class="section-number-4">4.2.1.</span> 例</h4>
<div class="outline-text-4" id="text-4-2-1">
</div>
<ol class="org-ol">
<li><a id="org9d49aa1"></a>例 1 - 改行<br />
<div class="outline-text-5" id="text-4-2-1-1">
<p>
templateLiteral/old/newLine.js
</p>
<div class="org-src-container">
<pre class="src src-js">const newLineEx1 = 'abc\ndef';

const newLineEx2 = 'abc\n' +
                   'def';

console.log(newLineEx1);
console.log();

console.log(newLineEx2);
</pre>
</div>
</div>
</li>

<li><a id="org3c51884"></a>例 2 - 文字列に変数を入れる 1<br />
<div class="outline-text-5" id="text-4-2-1-2">
<p>
templateLiteral/old/insertVariable1.js
</p>
<div class="org-src-container">
<pre class="src src-js">const name = 'シン';
const hello = 'おはよう';
const age = 99;

console.log(name + '、 ' + hello + '! ' + age + '歳の誕生日おめでとう!');
</pre>
</div>
</div>
</li>

<li><a id="org19353f7"></a>例 3 - 文字列に変数を入れる 2<br />
<div class="outline-text-5" id="text-4-2-1-3">
<p>
templateLiteral/old/insertVariable2.js
</p>
<div class="org-src-container">
<pre class="src src-js">const one = 1;
const two = 2;

console.log(one + ' + ' + two + ' = ' + (one + two));
</pre>
</div>
</div>
</li>

<li><a id="orgd108b38"></a>例 4 - 文字列の中に '(quote), "(double quote)入れる<br />
<div class="outline-text-5" id="text-4-2-1-4">
<p>
templateLiteral/old/quote.js
</p>
<div class="org-src-container">
<pre class="src src-js">const str1 = '"""""""""';
const str2 = "'''''''''";
const str3 = "\"hello\"";

console.log(str1); //&gt; ??
console.log(str2); //&gt; ??
console.log(str3); //&gt; ??
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org40b6d78" class="outline-4">
<h4 id="org40b6d78"><span class="section-number-4">4.2.2.</span> 説明</h4>
<div class="outline-text-4" id="text-4-2-2">
<ul class="org-ul">
<li>文字列内部に改行がある場合可読性が悪い。</li>
<li>文字列内部に変数を入れにくい。</li>
<li>文字列内部に'(quote), "(double quote)を入れるのが不便。</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org3cfa9b0" class="outline-3">
<h3 id="org3cfa9b0"><span class="section-number-3">4.3.</span> 例</h3>
<div class="outline-text-3" id="text-4-3">
</div>
<div id="outline-container-org6f570ed" class="outline-4">
<h4 id="org6f570ed"><span class="section-number-4">4.3.1.</span> 例 1 - 改行</h4>
<div class="outline-text-4" id="text-4-3-1">
<p>
templateLiteral/new/newLine.js
</p>
<div class="org-src-container">
<pre class="src src-js">const newLineEx = `abc
def`;

console.log(newLineEx);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf863e28" class="outline-4">
<h4 id="orgf863e28"><span class="section-number-4">4.3.2.</span> 例 2 - 文字列に変数を入れる 1</h4>
<div class="outline-text-4" id="text-4-3-2">
<p>
templateLiteral/new/insertVariable1.js
</p>
<div class="org-src-container">
<pre class="src src-js">const name = 'シン';
const hello = 'おはよう';
const age = 100;

console.log(`${name}、 ${hello}! ${age}歳の誕生日おめでとう!`);
</pre>
</div>
</div>
</div>

<div id="outline-container-org741df66" class="outline-4">
<h4 id="org741df66"><span class="section-number-4">4.3.3.</span> 例 3 - 文字列に変数を入れる 2</h4>
<div class="outline-text-4" id="text-4-3-3">
<p>
templateLiteral/new/insertVariable2.js
</p>
<div class="org-src-container">
<pre class="src src-js">const one = 1;
const two = 2;

console.log(`${one} + ${two} = ${one + two}`);
</pre>
</div>
</div>
</div>

<div id="outline-container-org0351c3f" class="outline-4">
<h4 id="org0351c3f"><span class="section-number-4">4.3.4.</span> 例 4 - 文字列内部に'(quote), "(double quote)に入れる</h4>
<div class="outline-text-4" id="text-4-3-4">
<p>
templateLiteral/new/quote.js
</p>
<div class="org-src-container">
<pre class="src src-js">const free = `'''''""""'''''""""""'''''`;

console.log(free);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaf77a49" class="outline-4">
<h4 id="orgaf77a49"><span class="section-number-4">4.3.5.</span> 例 5 - `(バックティック)の中で$表示。</h4>
<div class="outline-text-4" id="text-4-3-5">
<p>
templateLiteral/new/dollar.js
</p>
<div class="org-src-container">
<pre class="src src-js">const one = 1;

console.log(`$`);
console.log(`$ ${one}`);
</pre>
</div>
</div>
</div>

<div id="outline-container-orge2c29b4" class="outline-4">
<h4 id="orge2c29b4"><span class="section-number-4">4.3.6.</span> 例 6 - `(バックティック)の中で${}表示。</h4>
<div class="outline-text-4" id="text-4-3-6">
<p>
templateLiteral/new/stringInterpolation.js
</p>
<div class="org-src-container">
<pre class="src src-js">const one = 1;

console.log(`$\{one\}は ${one}が出力されます。`);
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org86aa7e3" class="outline-3">
<h3 id="org86aa7e3"><span class="section-number-3">4.4.</span> 説明</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li>文字列の新しい宣言方法。</li>
<li>`(バックティック)を利用して表現。</li>
<li>改行を楽にできる。</li>
<li>String interpolation(${変数名})を利用して文字列の間に簡単に変数を入れられる。</li>
</ul>
</div>
</div>
<div id="outline-container-org05042d3" class="outline-3">
<h3 id="org05042d3"><span class="section-number-3">4.5.</span> Tips</h3>
<div class="outline-text-3" id="text-4-5">
</div>
<div id="outline-container-org9622082" class="outline-4">
<h4 id="org9622082"><span class="section-number-4">4.5.1.</span> 改行の際、indentの問題</h4>
<div class="outline-text-4" id="text-4-5-1">
<p>
templateLiteral/tips/newLine.js
</p>
<div class="org-src-container">
<pre class="src src-js">const newLineEx = `abc
  def`;

console.log(newLineEx);
</pre>
</div>

<p>
String.prototype.trim()を利用したら改行と関係なく綺麗に書ける。
</p>

<p>
templateLiteral/tips/newLineWithTrim.js
</p>
<div class="org-src-container">
<pre class="src src-js">  const newLineEx = `
abc
def
`.trim();

  console.log(newLineEx);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbe9d6d6" class="outline-4">
<h4 id="orgbe9d6d6"><span class="section-number-4">4.5.2.</span> ObjectをString interpolationを利用して文字列を表現する場合の問題</h4>
<div class="outline-text-4" id="text-4-5-2">
<p>
templateLiteral/tips/newLine.js
</p>
<div class="org-src-container">
<pre class="src src-js">const obj = {
  a: 1,
  b: 2
}

console.dir(`${obj}`); //&gt; ??
</pre>
</div>

<p>
String interpolationは内部的にtoStringの処理を利用する為、起こる現象。
</p>

<p>
ObjectをString interpolationで表現する場合はJSON.stringfy()を利用したらいい。
</p>

<p>
templateLiteral/tips/objectStringify.js
</p>
<div class="org-src-container">
<pre class="src src-js">const obj = {
  a: 1,
  b: 2
}

console.dir(`${JSON.stringfy(obj)}`);
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: shin</p>
<p class="date">Created: 2023-01-25 Wed 15:10</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
